"use strict";(self.webpackChunk_docspace_shared=self.webpackChunk_docspace_shared||[]).push([[1181],{"./components/filling-role-selector/FillingRoleSelector.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FillingRoleSelector_stories,rolesFilledUsers:()=>rolesFilledUsers});var react=__webpack_require__("../../node_modules/react/index.js"),react_svg_esm=__webpack_require__("../../node_modules/react-svg/dist/react-svg.esm.js"),avatar_base_reacturl=__webpack_require__("../../public/images/avatar.base.react.svg?url");const remove_sessionurl_namespaceObject=__webpack_require__.p+"images/remove.session.svg?hash=d02adeb401df0b3949fa";var _path,_rect,styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const add_role_button_react=function SvgAddrolebuttonreact(props){return react.createElement("svg",_extends({width:34,height:34,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},props),_path||(_path=react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 16v-6h-2v6h-6v2h6v6h2v-6h6v-2h-6z",fill:"#FBCC86"})),_rect||(_rect=react.createElement("rect",{x:1,y:1,width:32,height:32,rx:16,stroke:"#FBCC86",strokeWidth:2,strokeLinecap:"round",strokeDasharray:"3 4"})))};var everyone_role_button_react_path,everyone_role_button_react_rect;function everyone_role_button_react_extends(){return everyone_role_button_react_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},everyone_role_button_react_extends.apply(this,arguments)}const everyone_role_button_react=function SvgEveryonerolebuttonreact(props){return react.createElement("svg",everyone_role_button_react_extends({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},props),everyone_role_button_react_path||(everyone_role_button_react_path=react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.014 10.019C12.982 8.339 14.354 7 16 7s3.02 1.339 2.987 3.019c-.026 1.392-.108 2.68-.46 3.633-.184.498-.466.978-.918 1.33-.465.362-1.019.518-1.61.518-.591 0-1.145-.156-1.61-.519-.452-.352-.734-.832-.917-1.33-.352-.953-.434-2.24-.46-3.632zM16 9a.977.977 0 00-.988.981c.027 1.424.118 2.386.337 2.979.101.275.204.392.27.444.053.041.151.096.38.096.23 0 .328-.055.38-.096.067-.052.17-.169.271-.444.22-.593.311-1.555.338-2.979A.977.977 0 0016 9zm-2.968 9.272l-.001.002c-.24.268-.48.713-.697 1.323-.212.598-.378 1.29-.504 1.997-.253 1.416-.33 2.797-.33 3.406h-2c0-.718.086-2.218.361-3.758a14.89 14.89 0 01.588-2.312c.255-.72.602-1.442 1.091-1.99.586-.654 1.36-.784 2.013-.7.622.078 1.21.352 1.66.623.484.29 1.088.29 1.571 0 .452-.271 1.04-.545 1.661-.624.653-.083 1.427.047 2.013.702.489.547.836 1.268 1.091 1.989.26.734.45 1.54.588 2.312.275 1.54.362 3.04.362 3.758h-2c0-.609-.078-1.99-.33-3.406a12.933 12.933 0 00-.505-1.997c-.216-.61-.457-1.055-.697-1.323l-.001-.002c-.025-.028-.067-.074-.268-.049-.236.03-.55.154-.885.355a3.527 3.527 0 01-3.628 0c-.334-.2-.648-.325-.884-.355-.202-.025-.244.021-.269.05zm-1.02-8.235c0-.087 0-.173.004-.258A2.002 2.002 0 0011 9.5c-1.086 0-2.032.887-1.985 2.04.024.576.084 1.305.266 1.916.09.302.233.656.48.951.268.322.682.593 1.227.593.544 0 .957-.27 1.226-.589.123-.146.221-.308.3-.47-.4-1.125-.475-2.55-.5-3.904zm7.975 0c-.025 1.363-.102 2.8-.51 3.928.075.153.167.304.283.442.268.322.682.593 1.227.593.544 0 .957-.27 1.226-.589.247-.293.393-.646.486-.948.187-.61.253-1.34.28-1.917.054-1.159-.895-2.046-1.98-2.046-.365 0-.714.1-1.015.277.004.086.005.173.003.26zm1.321 6.457c.4.519.721 1.12.98 1.747.127-.068.25-.145.368-.234.096-.072.192-.127.278-.164a.733.733 0 01.132-.043c.361.607.702 1.662.854 2.7h-.94a22.789 22.789 0 01.343 2h.676c1.071 0 2.082-.898 1.922-2.126-.167-1.284-.601-2.745-1.195-3.691-.424-.678-1.104-.929-1.748-.886-.582.04-1.118.308-1.522.61a.77.77 0 01-.148.087zM8.887 21.151c.04-.209.083-.427.133-.65h-.94c.15-1.037.49-2.09.849-2.7.032.007.075.02.128.043.086.036.182.09.278.162.12.09.246.168.375.236.26-.627.58-1.229.98-1.747a.781.781 0 01-.16-.092c-.404-.302-.94-.568-1.523-.605-.646-.04-1.323.215-1.744.894-.586.945-1.018 2.4-1.185 3.682C5.918 21.6 6.93 22.5 8 22.5h.677c.055-.433.124-.888.21-1.349z",fill:"#FBCC86"})),everyone_role_button_react_rect||(everyone_role_button_react_rect=react.createElement("rect",{x:1,y:1,width:30,height:30,rx:15,stroke:"#FBCC86",strokeWidth:2})))};var themes=__webpack_require__("./themes/index.ts");const StyledFillingRoleSelector=styled_components_browser_esm.Ay.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
`,StyledRow=styled_components_browser_esm.Ay.div`
  height: 48px;
  display: flex;
  align-items: center;
  gap: 8px;
`,StyledUserRow=styled_components_browser_esm.Ay.div`
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: space-between;

  .content {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .user-with-role {
    display: flex;
  }
`,StyledNumber=styled_components_browser_esm.Ay.div`
  font-weight: 600;
  font-size: ${props=>props.theme.getCorrectFontSize("14px")};
  line-height: 16px;
  color: #a3a9ae;
`,StyledAvatar=styled_components_browser_esm.Ay.img`
  height: 32px;
  width: 32px;
  border-radius: 50%;
`,StyledAddRoleButton=(0,styled_components_browser_esm.Ay)(add_role_button_react)`
  width: 32px;
  height: 32px;

  path {
    fill: ${props=>props.color};
  }

  rect {
    stroke: ${props=>props.color};
  }
`,StyledEveryoneRoleIcon=(0,styled_components_browser_esm.Ay)(everyone_role_button_react)`
  width: 32px;
  height: 32px;
`,StyledRole=styled_components_browser_esm.Ay.div`
  font-weight: 600;
  font-size: ${props=>props.theme.getCorrectFontSize("14px")};
  line-height: 16px;
`,StyledAssignedRole=styled_components_browser_esm.Ay.div`
  padding-left: 4px;
  ${props=>"rtl"===props.theme.interfaceDirection&&styled_components_browser_esm.AH`
      padding-right: 4px;
      padding-left: auto;
    `}
  color: rgba(170, 170, 170, 1);

  ::before {
    content: "(";
  }
  ::after {
    content: ")";
  }
`,StyledEveryoneRoleContainer=styled_components_browser_esm.Ay.div`
  display: flex;
  flex-direction: column;

  .title {
    display: flex;
  }

  .role-description {
    font-weight: 400;
    font-size: ${props=>props.theme.getCorrectFontSize("10px")};
    line-height: 14px;
    color: #657077;
  }
`,StyledTooltip=styled_components_browser_esm.Ay.div`
  background: #f8f7bf;
  color: #333;
  border-radius: 6px;
  font-weight: 400;
  font-size: ${props=>props.theme.getCorrectFontSize("12px")};
  line-height: 16px;
  padding: 8px 12px;
  height: 48px;
  box-sizing: border-box;
  margin: 8px 0;
`;StyledFillingRoleSelector.defaultProps={theme:themes.C6};var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const FillingRoleSelector=({roles,users,onAddUser,onRemoveUser,descriptionEveryone,descriptionTooltip,...props})=>{const sortedInOrderRoles=JSON.parse(JSON.stringify(roles)).sort(((a,b)=>a.order>b.order?1:-1)),everyoneRole=roles.find((item=>item.everyone)),everyoneRoleNode=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(StyledRow,{children:[(0,jsx_runtime.jsx)(StyledNumber,{children:everyoneRole?.order}),(0,jsx_runtime.jsx)(StyledEveryoneRoleIcon,{}),(0,jsx_runtime.jsxs)(StyledEveryoneRoleContainer,{children:[(0,jsx_runtime.jsxs)("div",{className:"title",children:[(0,jsx_runtime.jsx)(StyledRole,{children:everyoneRole?.name}),(0,jsx_runtime.jsx)(StyledAssignedRole,{children:everyoneRole?.everyone})]}),(0,jsx_runtime.jsx)("div",{className:"role-description",children:descriptionEveryone})]})]}),(0,jsx_runtime.jsx)(StyledTooltip,{children:descriptionTooltip})]});return(0,jsx_runtime.jsxs)(StyledFillingRoleSelector,{...props,children:[everyoneRole&&everyoneRoleNode,sortedInOrderRoles.map((role=>{if(role.everyone)return;const roleWithUser=users?.find((user=>user.role===role.name));return roleWithUser?(0,jsx_runtime.jsxs)(StyledUserRow,{children:[(0,jsx_runtime.jsxs)("div",{className:"content",children:[(0,jsx_runtime.jsx)(StyledNumber,{children:role.order}),(0,jsx_runtime.jsx)(StyledAvatar,{src:roleWithUser.hasAvatar?roleWithUser.avatar:avatar_base_reacturl}),(0,jsx_runtime.jsxs)("div",{className:"user-with-role",children:[(0,jsx_runtime.jsx)(StyledRole,{children:roleWithUser.displayName}),(0,jsx_runtime.jsx)(StyledAssignedRole,{children:roleWithUser.role})]})]}),(0,jsx_runtime.jsx)(react_svg_esm.k,{src:remove_sessionurl_namespaceObject,onClick:()=>onRemoveUser(roleWithUser.id)})]},`${role.name}`):(0,jsx_runtime.jsxs)(StyledRow,{children:[(0,jsx_runtime.jsx)(StyledNumber,{children:role.order}),(0,jsx_runtime.jsx)(StyledAddRoleButton,{onClick:onAddUser,color:role.color}),(0,jsx_runtime.jsx)(StyledRole,{children:role.name})]},`${role.name}`)}))]})};FillingRoleSelector.displayName="FillingRoleSelector";try{FillingRoleSelector.displayName="FillingRoleSelector",FillingRoleSelector.__docgenInfo={description:"",displayName:"FillingRoleSelector",props:{className:{defaultValue:null,description:"Accepts class",name:"className",required:!1,type:{name:"string"}},descriptionEveryone:{defaultValue:null,description:"Role description text Everyone",name:"descriptionEveryone",required:!0,type:{name:"string"}},descriptionTooltip:{defaultValue:null,description:"Tooltip text",name:"descriptionTooltip",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"Accepts id",name:"id",required:!1,type:{name:"string"}},onAddUser:{defaultValue:null,description:"The function of adding a user to a role",name:"onAddUser",required:!0,type:{name:"() => void"}},onRemoveUser:{defaultValue:null,description:"Function to remove a user from a role",name:"onRemoveUser",required:!0,type:{name:"(id: string) => void"}},roles:{defaultValue:null,description:"Array of roles",name:"roles",required:!0,type:{name:"TRole[]"}},style:{defaultValue:null,description:"Accepts CSS style",name:"style",required:!0,type:{name:"CSSProperties"}},users:{defaultValue:null,description:"Array of assigned users per role",name:"users",required:!0,type:{name:"TUser[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/filling-role-selector/FillingRoleSelector.tsx#FillingRoleSelector"]={docgenInfo:FillingRoleSelector.__docgenInfo,name:"FillingRoleSelector",path:"components/filling-role-selector/FillingRoleSelector.tsx#FillingRoleSelector"})}catch(__react_docgen_typescript_loader_error){}try{FillingRoleSelector.displayName="FillingRoleSelector",__function.__docgenInfo={description:"",displayName:"FillingRoleSelector",props:{className:{defaultValue:null,description:"Accepts class",name:"className",required:!1,type:{name:"string | undefined"}},descriptionEveryone:{defaultValue:null,description:"Role description text Everyone",name:"descriptionEveryone",required:!0,type:{name:"string"}},descriptionTooltip:{defaultValue:null,description:"Tooltip text",name:"descriptionTooltip",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"Accepts id",name:"id",required:!1,type:{name:"string | undefined"}},onAddUser:{defaultValue:null,description:"The function of adding a user to a role",name:"onAddUser",required:!0,type:{name:"() => void"}},onRemoveUser:{defaultValue:null,description:"Function to remove a user from a role",name:"onRemoveUser",required:!0,type:{name:"(id: string) => void"}},roles:{defaultValue:null,description:"Array of roles",name:"roles",required:!0,type:{name:"TRole[]"}},style:{defaultValue:null,description:"Accepts CSS style",name:"style",required:!0,type:{name:"CSSProperties"}},users:{defaultValue:null,description:"Array of assigned users per role",name:"users",required:!0,type:{name:"TUser[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/filling-role-selector/FillingRoleSelector.tsx#FillingRoleSelector"]={docgenInfo:FillingRoleSelector.__docgenInfo,name:"FillingRoleSelector",path:"components/filling-role-selector/FillingRoleSelector.tsx#FillingRoleSelector"})}catch(__react_docgen_typescript_loader_error){}const FillingRoleSelector_stories={title:"Components/FillingRoleSelector",component:FillingRoleSelector,argTypes:{onAddUser:{action:"onAddUser"},onRemoveUser:{action:"onRemoveUser"}}},mockRoles=[{id:"3",name:"Director",order:3,color:"#BB85E7"},{id:"2",name:"Accountant",order:2,color:"#70D3B0"},{id:"1",name:"Employee",order:1,color:"#FBCC86",everyone:"@Everyone"}],mockUsers=[{id:"1",displayName:"Makenna Lipshutz",role:"Accountant",avatar:"/images/user.avatar.example.react.svg",hasAvatar:!0},{id:"2",displayName:"Randy Korsgaard",role:"Director",hasAvatar:!1}],textRoleEveryone="The form is available for filling out by all participants of this room.",textTooltip="Each form filled out by users from the first role will go in turn to the next users listed below.",Template=({onAddUser,...args})=>(0,jsx_runtime.jsx)(FillingRoleSelector,{...args,style:{width:"480px",padding:"16px"},onAddUser:()=>{onAddUser()}});Template.displayName="Template";const Default={render:args=>(0,jsx_runtime.jsx)(Template,{...args}),args:{roles:mockRoles,descriptionEveryone:textRoleEveryone,descriptionTooltip:textTooltip}},TemplateRolesFilledUsers=({users,onAddUser,onRemoveUser,...args})=>{const[usersAssigned,setUsersAssigned]=(0,react.useState)(mockUsers);return(0,jsx_runtime.jsx)(FillingRoleSelector,{...args,style:{width:"480px",padding:"16px"},users:usersAssigned,onRemoveUser:id=>{const newUsersAssigned=usersAssigned.filter((item=>item.id!==id));setUsersAssigned(newUsersAssigned),onRemoveUser?.(id)},onAddUser:()=>{onAddUser()}})};TemplateRolesFilledUsers.displayName="TemplateRolesFilledUsers";const rolesFilledUsers={render:args=>(0,jsx_runtime.jsx)(TemplateRolesFilledUsers,{...args}),args:{roles:mockRoles,users:mockUsers,descriptionEveryone:textRoleEveryone,descriptionTooltip:textTooltip}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render: args => <Template {...args} />,\n  args: {\n    roles: mockRoles,\n    descriptionEveryone: textRoleEveryone,\n    descriptionTooltip: textTooltip\n  }\n}",...Default.parameters?.docs?.source}}},rolesFilledUsers.parameters={...rolesFilledUsers.parameters,docs:{...rolesFilledUsers.parameters?.docs,source:{originalSource:"{\n  render: args => <TemplateRolesFilledUsers {...args} />,\n  args: {\n    roles: mockRoles,\n    users: mockUsers,\n    descriptionEveryone: textRoleEveryone,\n    descriptionTooltip: textTooltip\n  }\n}",...rolesFilledUsers.parameters?.docs?.source}}};const __namedExportsOrder=["Default","rolesFilledUsers"]}}]);
//# sourceMappingURL=components-filling-role-selector-FillingRoleSelector-stories.08036d57.iframe.bundle.js.map